<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="data:,">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aygün AVM | Satış Paneli</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="login-screen" class="modal-overlay" style="display: flex;">
    <div class="login-box">
        <div class="login-logo-container">
            <h2 class="brand-logo">Aygün<span>®</span></h2>
        </div>
        <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">Satış Paneli Girişi</p>
        <input type="email" id="user-input" placeholder="Email Adresiniz">
        <input type="password" id="pass-input" placeholder="Şifre">
        <button class="btn-confirm action-btn" onclick="checkAuth()" style="width: 100%;">Giriş Yap</button>
        <p id="login-err" style="display:none; color:red; margin-top:10px; font-size: 13px;">Hatalı Giriş!</p>
    </div>
</div>

<div id="app-content" style="display: none;">
    <div class="sticky-header">
        <header>
            <div class="brand">
                <span id="v-tag">Yükleniyor...</span>
                <h1 style="font-size: 1.1rem; margin:0;">Aygün AVM</h1>
            </div>
            <div class="cart-trigger action-btn" onclick="toggleCart()">
                SEPET (<span id="cart-count">0</span>)
            </div>
        </header>
        <div class="search-container">
            <input type="text" id="search" placeholder="Kelime ayırarak ara..." oninput="filterData()">
        </div>
    </div>

    <main>
        <div class="table-wrapper">
            <table id="product-table">
                <thead>
                    <tr>
                        <th>Ekle</th>
                        <th>Ürün</th>
                        <th>Stok</th>
                        <th>D.Kart</th>
                        <th>4T AWM</th>
                        <th>Tek Çekim</th>
                        <th>Nakit</th>
                        <th>Açıklama</th>
                        <th>Kod</th>
                    </tr>
                </thead>
                <tbody id="product-list"></tbody>
            </table>
        </div>
    </main>
</div>

<div id="cart-modal" class="modal-overlay">
    <div class="cart-modal-content">
        <div class="modal-header">
            <h3 style="margin:0">Teklif Taslağı</h3>
            <button class="close-modal-btn action-btn" onclick="toggleCart()">KAPAT ✕</button>
        </div>
        
        <div id="cart-items" class="modal-body-scroll"></div>
        
        <div class="modal-footer-controls">
            <div class="control-row">
                <div class="discount-group">
                    <label for="discount-input">İndirim Uygula</label>
                    <div class="flex-input">
                        <input type="number" id="discount-input" placeholder="0" oninput="applyDiscount()">
                        <select id="discount-type" onchange="applyDiscount()">
                            <option value="TRY">₺</option>
                            <option value="PERCENT">%</option>
                        </select>
                    </div>
                </div>
                <div class="price-selector-group">
                    <label>Teklife Eklenecek Fiyatlar</label>
                    <div class="check-chips">
                        <label class="chip-label"><input type="checkbox" class="price-toggle" value="nakit" checked> <span>Nakit</span></label>
                        <label class="chip-label"><input type="checkbox" class="price-toggle" value="tek"> <span>Tek Çekim</span></label>
                        <label class="chip-label"><input type="checkbox" class="price-toggle" value="awm"> <span>4T AWM</span></label>
                        <label class="chip-label"><input type="checkbox" class="price-toggle" value="dk"> <span>D. Kart</span></label>
                    </div>
                </div>
            </div>

            <div class="customer-info-grid">
                <input type="text" id="cust-name" placeholder="Müşteri Ad Soyad">
                <input type="tel" id="cust-phone" placeholder="Telefon (05XXXXXXXXX)" maxlength="11">
                <input type="text" id="validity-date" placeholder="Geçerlilik (Örn: 3 Gün)">
                <textarea id="extra-info" placeholder="Ekstra Not..."></textarea>
            </div>

            <div class="final-actions">
                <button class="btn-whatsapp action-btn" onclick="finalizeProposal()">WhatsApp Gönder</button>
                <button class="btn-clear-all action-btn" onclick="showConfirm()">Temizle</button>
            </div>
        </div>
    </div>
</div>

<div id="confirm-modal" class="modal-overlay" style="z-index: 10000;">
    <div class="login-box" style="max-width: 300px;">
        <h3>Fiyat Taslağı</h3>
        <p>Sepeti temizlemek istediğinize emin misiniz?</p>
        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button class="btn-clear-all action-btn" style="flex:1" onclick="closeConfirm()">İptal</button>
            <button class="btn-confirm action-btn" style="flex:1" onclick="clearBasket()">Tamam</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
